webpackJsonp([4],{9:function(e,i,t){i=e.exports=t(4)(),i.push([e.id,".pagination-box{padding:20px 15px 40px}.pagination{text-align:center}.pagination li{font-size:1.6rem;line-height:1;display:inline-block;margin:0 .2em;padding:.6em .8em;cursor:pointer;-webkit-user-select:none;user-select:none;border:1px solid;border-color:#dee5e7;border-color:#d8e1e3;border-radius:.25em;background:#fff;box-shadow:0 1px 1px rgba(90,90,90,.1)}.pagination li.current,.pagination li:hover{color:#58666e;background-color:#edf1f2;border-color:#c7d3d6}.pagination li.current{pointer-events:none;box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.pagination li:active{transform:scale(.9)}.pagination li.disabled{cursor:not-allowed;opacity:.8}.pagination li.disabled:active{transform:scale(1)}.pagination li.separate{pointer-events:none}",""])},10:function(e,i,t){var a=t(9);"string"==typeof a&&(a=[[e.id,a,""]]);t(5)(a,{});a.locals&&(e.exports=a.locals)},11:function(e,i){e.exports='<div class=pagination-box> <ul class=pagination ng-show="pagination.config.totalItems > 0"> <li ng-class="{disabled: pagination.config.currentPage == 1}" ng-click=pagination.prevPage()> <span>&laquo;</span> </li> <li ng-repeat="item in pagination.pageList track by $index" ng-class="{\'current\': item == pagination.config.currentPage, \'separate\': item == \'...\'}" ng-click=pagination.changeCurrentPage(item)> <span>{{ item }}</span> </li> <li ng-class="{disabled: pagination.config.currentPage == pagination.config.numberOfPages}" ng-click=pagination.nextPage()> <span>&raquo;</span> </li> </ul> </div>'},12:function(e,i,t){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(11),n=_interopRequireDefault(a);t(10);var r=t(13),o=_interopRequireDefault(r),s={bindings:{config:"="},template:n["default"],controller:o["default"],controllerAs:"pagination"};i["default"]=angular.module("app.components.pagination",[]).component("pagination",s)},13:function(e,i,t){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(3),n=_interopRequireDefault(a),r=t(1),o=_interopRequireDefault(r),s=t(2),l=_interopRequireDefault(s),p=function(){function PaginationController(e,i,t){"ngInject";function getPagination(e,i){if(r.config.currentPage=parseInt(r.config.currentPage,10)||1,r.config.totalItems=parseInt(r.config.totalItems,10)||0,r.config.itemsPerPage=parseInt(r.config.itemsPerPage,10)||15,r.config.numberOfPages=Math.ceil(r.config.totalItems/r.config.itemsPerPage),r.config.numberOfPages>0&&r.config.currentPage>r.config.numberOfPages&&(r.config.currentPage=r.config.numberOfPages),r.pageList=[],r.config.numberOfPages<=r.config.pagesLength)for(var t=1;t<=r.config.numberOfPages;t++)r.pageList.push(t);else{var a=(r.config.pagesLength-1)/2;if(r.config.currentPage<=a){for(var n=1;n<=a+1;n++)r.pageList.push(n);r.pageList.push("..."),r.pageList.push(r.config.numberOfPages)}else if(r.config.currentPage>r.config.numberOfPages-a){r.pageList.push(1),r.pageList.push("...");for(var o=a+1;o>=1;o--)r.pageList.push(r.config.numberOfPages-o);r.pageList.push(r.config.numberOfPages)}else{r.pageList.push(1),r.pageList.push("...");for(var s=Math.ceil(a/2);s>=1;s--)r.pageList.push(r.config.currentPage-s);r.pageList.push(r.config.currentPage);for(var l=1;l<=a/2;l++)r.pageList.push(r.config.currentPage+l);r.pageList.push("..."),r.pageList.push(r.config.numberOfPages)}}!r.config.pageOnChange||i!==e&&0===i[0]||r.config.pageOnChange()}var a=this;(0,o["default"])(this,PaginationController),(0,n["default"])(this,{$scope:e,$element:i,$attrs:t}),this.config.pagesLength=Number(this.config.pagesLength)||9,this.config.pagesLength%2===0&&(this.config.pagesLength=this.config.pagesLength-1),this.$scope.$watch(function(){a.config.totalItems=a.config.totalItems||0;var e=a.config.totalItems+" "+a.config.currentPage+" "+a.config.itemsPerPage;return e},getPagination);var r=this}return PaginationController.$inject=["$scope","$element","$attrs"],(0,l["default"])(PaginationController,[{key:"changeCurrentPage",value:function changeCurrentPage(e){"..."!==e&&(this.config.currentPage=e)}},{key:"prevPage",value:function prevPage(){this.config.currentPage>1&&this.config.currentPage--}},{key:"nextPage",value:function nextPage(){this.config.currentPage<this.config.numberOfPages&&this.config.currentPage++}}]),PaginationController}();i["default"]=p},29:function(e,i,t){i=e.exports=t(4)(),i.push([e.id,".movies-wrapper{display:flex;flex-wrap:wrap;margin-left:-10px;margin-right:-10px}.movies-wrapper .movie-item{padding:10px;width:10%}@media screen and (max-width:1440px){.movies-wrapper .movie-item{width:12.5%}}@media screen and (max-width:1024px){.movies-wrapper .movie-item{width:20%}}@media screen and (max-width:580px){.movies-wrapper .movie-item{width:50%}}.movies-wrapper .movie{position:relative;border-radius:5px;overflow:hidden}.movies-wrapper .movie .thumbnail{display:block;width:100%;height:158px;border-radius:5px;box-shadow:0 0 3px 1px #abb1cf;position:relative;color:#fff}.movies-wrapper .movie .thumbnail img{width:100%;height:100%;border-radius:5px}@media screen and (max-width:1920px){.movies-wrapper .movie .thumbnail{height:198px}}@media screen and (max-width:1366px){.movies-wrapper .movie .thumbnail{height:188px}}@media screen and (max-width:1024px){.movies-wrapper .movie .thumbnail{height:200px}}@media screen and (max-width:768px){.movies-wrapper .movie .thumbnail{height:150px}}@media screen and (max-width:580px){.movies-wrapper .movie .thumbnail{height:190px}}.movies-wrapper .movie .play{border-radius:5px;transition:opacity .3s ease;opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;z-index:3;padding:1rem;overflow:auto;background:radial-gradient(ellipse at center,rgba(0,0,0,.09) 0,rgba(0,0,0,.18) 10%,#353757 100%)}.movies-wrapper .movie .play a{position:relative;font-size:2.8rem;line-height:1;color:#dcdcdc}.movies-wrapper .movie .play a:before{border-radius:50%;content:'';border:2px solid;width:50px;height:50px;position:absolute;left:-15px;top:-12px}.movies-wrapper .movie .play a:hover{color:#eec141}.movies-wrapper .movie:hover .loaded .play{opacity:1}.movies-wrapper .movie .meta{font-size:1rem;padding:10px 0;position:relative}.movies-wrapper .movie .meta .name{color:#333;max-width:90%;font-size:1.3rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.movies-wrapper .movie .meta .star{position:absolute;left:auto;top:0;right:0;bottom:0;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center}.movies-wrapper .movie .meta .icon-star{color:#eec141;font-size:1.8rem}",""])},30:function(e,i,t){var a=t(29);"string"==typeof a&&(a=[[e.id,a,""]]);t(5)(a,{});a.locals&&(e.exports=a.locals)},31:function(e,i){e.exports='<div class=movie> <div class="thumbnail lazyimg"> <img imgload={{$root.image_uri}}/w342{{vm.movie.poster_path}}> <p class="play flex-middle-center"> <a ui-sref="root.layout.movies.movieProfile({id: vm.movie.id, name: vm.movie.original_title})"> <i class="icons icon-control-play"></i> </a> </p> </div> <div class=meta> <h5 class=name>{{vm.movie.title}}</h5> <p class=genre>{{vm.movie.genre_ids | parseGenre}}</p> <p class=star> <i class="icons icon-star"></i> <span class=number>{{vm.movie.vote_average | voteFilter}}</span> </p> </div> <ng-transclude></ng-transclude> </div>'},32:function(e,i,t){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0}),t(30);var a=t(31),n=_interopRequireDefault(a),r=t(33),o=_interopRequireDefault(r),s={bindings:{movie:"<"},transclude:{handle:"?handle"},template:n["default"],controller:o["default"],controllerAs:"vm"};i["default"]=angular.module("app.components.movieCard",[]).component("movieCard",s)},33:function(e,i,t){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),n=_interopRequireDefault(a),r=function MovieCardController(){"ngInject";(0,n["default"])(this,MovieCardController)};i["default"]=r},171:function(e,i){e.exports='<div class=page-title> <h4>与 <span class=text-warning>{{vm.title}}</span> 相关的电影</h4> <b class="badge badge-warning" ng-if=vm.totalResults>{{vm.totalResults}}</b> <p><small class=text-muted>{{vm.description}}</small></p> </div> <div class=root-wrapper> <div class=movies-wrapper ng-show=vm.movies.length> <movie-card ng-repeat="movie in vm.movies track by movie.id" movie=movie class=movie-item ng-if=movie.poster_path> </movie-card> </div> <loading-bar></loading-bar> </div> <pagination config=vm.paginationConfig ng-if="vm.movies.length && vm.totalResults > 20 "></pagination>'},200:function(e,i,t){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(7),n=_interopRequireDefault(a),r=t(16),o=_interopRequireDefault(r),s=t(14),l=_interopRequireDefault(s),p=t(15),u=_interopRequireDefault(p),g=t(3),c=_interopRequireDefault(g),f=t(1),d=_interopRequireDefault(f),m=t(2),v=_interopRequireDefault(m),h=t(8),b=_interopRequireDefault(h),P=(0,b["default"])(),x=function(){function TagServiceBase(e,i,t,a){"ngInject";(0,d["default"])(this,TagServiceBase),(0,c["default"])(this,{$resource:e,$q:i,API:t,ErrorHandler:a}),this[P]=this.ErrorHandler.catcher.bind(this.ErrorHandler),this.deferred=this.$q.defer()}return TagServiceBase.$inject=["$resource","$q","API","ErrorHandler"],(0,v["default"])(TagServiceBase,[{key:"tag",value:function tag(e){var i=this,t=this.$resource(this.API+"/keyword/:id/movies",{},{get:{cache:!0}});return this.$q(function(a,n){var r=t.get(e).$promise;r.then(function(e){return a(e)},function(e){return n(e),i[P](e.code)})})}}]),TagServiceBase}(),_=function(e){function TagService(){return(0,d["default"])(this,TagService),(0,o["default"])(this,(0,n["default"])(TagService).apply(this,arguments))}return(0,u["default"])(TagService,e),(0,v["default"])(TagService,[{key:"$get",value:function $get(e){return(0,l["default"])((0,n["default"])(TagService.prototype),"tag",this).call(this,e)}}]),TagService}(x);i["default"]=_},231:function(e,i,t){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(200),n=_interopRequireDefault(a),r=t(32),o=_interopRequireDefault(r),s=t(12),l=_interopRequireDefault(s),p=t(232),u=_interopRequireDefault(p),g=angular.module("app.pages.tag",[o["default"].name,l["default"].name]).service("TagApi",n["default"]).controller(u["default"].name,u["default"]);i["default"]=g.name},232:function(e,i,t){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(3),n=_interopRequireDefault(a),r=t(1),o=_interopRequireDefault(r),s=t(2),l=_interopRequireDefault(s),p=function(){function TagController(e,i,t,a){"ngInject";var r=this;(0,o["default"])(this,TagController),(0,n["default"])(this,{$stateParams:e,$state:i,TagApi:t,RouterHelper:a}),this.paginationConfig={currentPage:this.$stateParams.page||1,itemsPerPage:20,pagesLength:9,pageOnChange:function pageOnChange(){r.$state.go(i.current,{page:r.paginationConfig.currentPage})}},this.title=e.name.replace(/\-/," "),this.description="Get the basic information for a specific keyword id.",this.RouterHelper.updateDocTitle("与"+this.title+"相关的电影"),this.activate()}return TagController.$inject=["$stateParams","$state","TagApi","RouterHelper"],(0,l["default"])(TagController,[{key:"activate",value:function activate(){var e=this,i=this.TagApi.$get({id:this.$stateParams.id,page:this.paginationConfig.currentPage});i.then(function(i){e.movies=i.results,e.totalResults=i.total_results,e.paginationConfig.totalItems=i.total_results,e.paginationConfig.currentPage=i.page})}}]),TagController}();i["default"]=p}});